{% comment %}
  Value Propositions Section
  Displays key value propositions with icons in a 3-column grid
{% endcomment %}

<!-- Font Awesome Fallback -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous">

<section class="value-props color-{{ section.settings.color_scheme }}" id="value-props-{{ section.id }}">
  <div class="value-props__container page-width">
    {%- if section.settings.heading != blank -%}
      <h2 class="value-props__heading">{{ section.settings.heading }}</h2>
    {%- endif -%}

    {%- if section.blocks.size > 0 -%}
      <div class="value-props-grid">
        {%- for block in section.blocks -%}
          {%- assign icon_name = block.settings.icon | default: 'brain' -%}
          {%- assign loop_index = forloop.index -%}
          {%- if loop_index == 1 -%}{%- assign icon_name = 'brain' -%}{%- endif -%}
          {%- if loop_index == 2 -%}{%- assign icon_name = 'users' -%}{%- endif -%}
          {%- if loop_index == 3 -%}{%- assign icon_name = 'lightbulb' -%}{%- endif -%}
          <div class="value-prop-card" {{ block.shopify_attributes }}>
            <!-- DEBUG: Icon = "{{ icon_name }}" | Block icon setting = "{{ block.settings.icon }}" | Loop {{ forloop.index }} -->
            <div class="value-prop-icon">
                {%- case icon_name -%}
                  {%- when 'brain' -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor"><path d="M184 0c30.9 0 56 25.1 56 56V456c0 30.9-25.1 56-56 56c-28.9 0-52.7-21.9-55.7-50.1c-5.2 1.4-10.7 2.1-16.3 2.1c-35.3 0-64-28.7-64-64c0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1C131.3 21.9 155.1 0 184 0zM328 0c28.9 0 52.6 21.9 55.7 49.9c27.8 7 48.3 32.1 48.3 62.1c0 6-.8 11.9-2.4 17.4c28.8 6.2 50.4 31.9 50.4 62.6c0 15-5.1 28.8-13.8 39.7C493.3 244.5 512 272.1 512 304c0 34.2-21.4 63.4-51.6 74.8c2.3 6.6 3.6 13.8 3.6 21.2c0 35.3-28.7 64-64 64c-5.6 0-11.1-.7-16.3-2.1c-3 28.2-26.8 50.1-55.7 50.1c-30.9 0-56-25.1-56-56V56c0-30.9 25.1-56 56-56z"/></svg>
                  {%- when 'users' -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><path d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"/></svg>
                  {%- when 'lightbulb' -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" fill="currentColor"><path d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"/></svg>
                  {%- else -%}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"/></svg>
                {%- endcase -%}
              </div>
            
            {%- if block.settings.title != blank -%}
              <h3 class="value-prop-title">{{ block.settings.title }}</h3>
            {%- endif -%}
            
            {%- if block.settings.description != blank -%}
              <p class="value-prop-description">{{ block.settings.description }}</p>
            {%- endif -%}
          </div>
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</section>

<style>
  /* Value Propositions Section */
  .value-props {
    padding: var(--space-16) 0;
    background: var(--warm-white);
  }

  .value-props__container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 var(--space-4);
  }

  .value-props__heading {
    font-family: var(--font-heading);
    font-size: 2.5rem;
    font-weight: 700;
    color: #000000;
    text-align: center;
    margin-bottom: 80px;
    line-height: 1.1;
    letter-spacing: -0.02em;
  }

  @media screen and (min-width: 750px) {
    .value-props__heading {
      font-size: 3rem;
      margin-bottom: 100px;
    }
  }

  @media screen and (min-width: 990px) {
    .value-props__heading {
      font-size: 3.5rem;
    }
  }

  /* Grid Layout */
  .value-props-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 48px;
    max-width: 1200px;
    margin: 0 auto;
  }

  @media screen and (min-width: 750px) {
    .value-props-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 40px;
    }
  }

  @media screen and (min-width: 990px) {
    .value-props-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 48px;
    }
  }

  /* Value Prop Cards */
  .value-prop-card {
    text-align: center;
    padding: 32px 24px;
    background: var(--white);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
  }

  .value-prop-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  @media screen and (min-width: 750px) {
    .value-prop-card {
      padding: 40px 32px;
    }
  }

  /* Icon Styling */
  .value-prop-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--purple-500), var(--pink-500));
    border-radius: 50%;
    box-shadow: 0 8px 24px rgba(124, 58, 237, 0.3);
  }

  .value-prop-icon svg {
    width: 40px;
    height: 40px;
    color: var(--white);
  }

  .value-prop-icon i {
    font-size: 2rem;
    color: var(--white);
  }

  @media screen and (min-width: 750px) {
    .value-prop-icon {
      width: 96px;
      height: 96px;
      margin-bottom: 28px;
    }

    .value-prop-icon svg {
      width: 48px;
      height: 48px;
    }

    .value-prop-icon i {
      font-size: 2.5rem;
    }
  }

  /* Title Styling */
  .value-prop-title {
    font-family: var(--font-heading);
    font-size: 1.375rem;
    font-weight: 700;
    color: #111827;
    margin-bottom: 16px;
    line-height: 1.3;
  }

  @media screen and (min-width: 750px) {
    .value-prop-title {
      font-size: 1.5rem;
      margin-bottom: 20px;
    }
  }

  /* Description Styling */
  .value-prop-description {
    font-size: 1rem;
    color: #4B5563;
    line-height: 1.8;
    margin: 0;
  }

  @media screen and (min-width: 750px) {
    .value-prop-description {
      font-size: 1.0625rem;
      line-height: 1.9;
    }
  }

  /* Animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .value-prop-card {
    animation: fadeInUp 0.8s ease-out;
    animation-fill-mode: both;
  }

  .value-prop-card:nth-child(1) {
    animation-delay: 0.1s;
  }

  .value-prop-card:nth-child(2) {
    animation-delay: 0.2s;
  }

  .value-prop-card:nth-child(3) {
    animation-delay: 0.3s;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .value-prop-card {
      animation: none;
    }
    
    .value-prop-card:hover {
      transform: none;
    }
  }
</style>

{% schema %}
{
  "name": "Value Propositions",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Why Choose Unmuted"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ],
  "blocks": [
    {
      "type": "value_prop",
      "name": "Value Proposition",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Font Awesome Icon Name",
          "default": "brain",
          "info": "Enter icon name without 'fa-' prefix (e.g., 'brain', 'users', 'lightbulb'). See fontawesome.com for icon names."
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Smart Analysis, Actually Funny"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "We don't just recap—we analyze. Why did Glee's diversity storylines work or fail? What made Gossip Girl's class commentary so problematic? Critical thinking that doesn't put you to sleep."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Value Propositions",
      "blocks": [
        {
          "type": "value_prop",
          "settings": {
            "icon": "brain",
            "title": "Smart Analysis, Actually Funny",
            "description": "We don't just recap—we analyze. Why did Glee's diversity storylines work or fail? What made Gossip Girl's class commentary so problematic? Critical thinking that doesn't put you to sleep."
          }
        },
        {
          "type": "value_prop",
          "settings": {
            "icon": "users",
            "title": "Multiple POVs, Real Representation",
            "description": "Creators from different backgrounds break down the same shows. See how race, gender, sexuality, and class shape what we notice in these stories."
          }
        },
        {
          "type": "value_prop",
          "settings": {
            "icon": "lightbulb",
            "title": "Media Literacy Made Fun",
            "description": "Learn to spot good and bad representation while laughing. We make media criticism accessible—no film degree required."
          }
        }
      ]
    }
  ]
}
{% endschema %}
